{"version":3,"sources":["components/pages/mainPage/MainPage.module.css","components/containers/AppContainer.module.css","components/containers/AppContainer.js","utils/lomda.js","constants/colors.js","utils/icons.js","constants/costs.js","components/elements/markerTooltip/MarkerTooltip.js","components/elements/siteMarker/SiteMarker.js","components/pages/mainPage/MainPage.js","components/app/App.js","index.js"],"names":["module","exports","wrapper","controlWrapper","mapContainer","AppContainer","react_default","a","createElement","className","styles","this","props","children","Component","isNotNil","complement","isNil","isNilOrEmpty","isEmpty","value","isNotNilAndNotEmpty","COLORS","equals","map","item","toLowerCase","trim","ICON_SIZE","ICON_COLORS","console","warn","process","ICONS_FOLDER","concat","icons","reduce","result","color","Object","objectSpread","defineProperty","Leaflet","icon","iconUrl","iconSize","getIconByCost","cost","iconColor","getIconColorByCost","SELECTED_ICON","costsDictionary","waitingTime","tripTimeInTheCabin","numberOfTransfers","transferFee","MarkerTooltip","_this$props","id","name","selected","data","objectWithoutProperties","Tooltip","style","display","flexDirection","Fragment","entries","_ref","_ref2","slicedToArray","description","key","defaultProps","SiteMarker","handleClick","_this","handleMarkerClick","position","Marker","onClick","DEFAULT_POSITION","MainPage","state","sites","costs","selectedId","undefined","readFile","file","reader","FileReader","onloadend","Papa","parse","complete","results","log","clearData","filter","row","every","cell","processSites","setState","processCosts","readAsDataURL","arguments","length","toArray","names","slice","idIndex","indexOf","nameIndex","longitudeIndex","latitudeIndex","Number","longitude","latitude","_ref3","_ref4","idFromIndex","idToIndex","costIndex","waitingTimeIndex","tripTimeInTheCabinIndex","numberOfTransfersIndex","transferFeeIndex","handleChange","event","files","target","sitesFile","find","costsFile","handleMapClick","_this2","_this$state","htmlFor","textDecoration","cursor","type","onChange","multiple","visibility","accept","Map","center","zoom","TileLayer","attribution","url","_ref5","siteId","siteName","costsData","pathOr","isSelected","SiteMarker_SiteMarker","MarkerTooltip_MarkerTooltip","assign","App","AppContainer_AppContainer","MainPage_MainPage","ReactDOM","render","App_App","document","getElementById"],"mappings":"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","file":"static/js/main.ae1db8f3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"MainPage_wrapper__WAaqP\",\"controlWrapper\":\"MainPage_controlWrapper__27UOu\",\"mapContainer\":\"MainPage_mapContainer__2nhOB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"AppContainer_wrapper__3HvJ6\"};","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './AppContainer.module.css';\r\n\r\nexport default class AppContainer extends Component {\r\n    static propTypes = {\r\n        children: PropTypes.node,\r\n    };\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div className={styles.wrapper}>\r\n                {this.props.children}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import {\r\n    complement,\r\n    equals,\r\n    find,\r\n    isEmpty,\r\n    isNil,\r\n    map,\r\n} from 'ramda';\r\n\r\nconst noop = () => {\r\n    // do nothing\r\n};\r\n\r\nconst isNotNil = complement(isNil);\r\nconst isNotEmpty = complement(isEmpty);\r\nconst isNilOrEmpty = value => isNil(value) || isEmpty(value);\r\nconst isNotNilAndNotEmpty = complement(isNilOrEmpty);\r\nconst isNotEquals = complement(equals);\r\nconst buildFindById = targetId => find(item => item.id === targetId);\r\nconst normalizeStrings = map(item => item.toLowerCase().trim());\r\n\r\nexport {\r\n    noop,\r\n    isNotNil,\r\n    isNotEmpty,\r\n    isNilOrEmpty,\r\n    isNotNilAndNotEmpty,\r\n    isNotEquals,\r\n    buildFindById,\r\n    normalizeStrings,\r\n};\r\n","const BLACK = 'black';\r\nconst GREEN = 'green';\r\nconst YELLOW = 'yellow';\r\nconst RED = 'red';\r\nconst VIOLET = 'violet';\r\nconst BLUE = 'blue';\r\n\r\nexport const COLORS = {\r\n    BLACK,\r\n    GREEN,\r\n    YELLOW,\r\n    RED,\r\n    VIOLET,\r\n    BLUE,\r\n};","import { COLORS } from '../constants/colors';\r\nimport Leaflet from 'leaflet';\r\nimport { isNil } from 'ramda';\r\n\r\nconst ICON_SIZE = [30, 45];\r\nconst ICON_COLORS = [COLORS.BLACK, COLORS.GREEN, COLORS.YELLOW, COLORS.RED, COLORS.VIOLET, COLORS.BLUE];\r\nconsole.warn('process.env.PUBLIC_URL = ', process.env.PUBLIC_URL);\r\nconst ICONS_FOLDER = `${process.env.PUBLIC_URL}/icons/`;\r\n\r\nconst icons = ICON_COLORS.reduce((result, color) => {\r\n    return {\r\n        ...result,\r\n        [color]: Leaflet.icon({\r\n            iconUrl: `${ICONS_FOLDER}/map-marker-${color}.svg`,\r\n            iconSize: ICON_SIZE,\r\n        }),\r\n    };\r\n}, {});\r\n\r\nconst getIconColorByCost = cost => {\r\n    if (isNil(cost)) {\r\n        return COLORS.BLACK;\r\n    } else if (cost < 5) {\r\n        return COLORS.GREEN;\r\n    } else if (cost >= 5 && cost < 15) {\r\n        return COLORS.YELLOW;\r\n    } else if (cost >= 15 && cost < 30) {\r\n        return COLORS.RED;\r\n    } else {\r\n        return COLORS.VIOLET;\r\n    }\r\n};\r\n\r\nexport const getIconByCost = (cost) => {\r\n    const iconColor = getIconColorByCost(cost);\r\n\r\n    return icons[iconColor];\r\n};\r\n\r\nexport const SELECTED_ICON = icons[COLORS.BLUE];","export const costsDictionary = {\r\n    cost: 'агрегированные затраты, минут',\r\n    waitingTime: 'время ожидания, минут',\r\n    tripTimeInTheCabin: 'время в салоне, минут',\r\n    numberOfTransfers: 'число пересадок',\r\n    transferFee: 'штраф за пересадки, минут',\r\n};","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Tooltip } from 'react-leaflet';\r\nimport { isNilOrEmpty } from '../../../utils/lomda';\r\nimport { costsDictionary } from '../../../constants/costs';\r\n\r\nexport default class MarkerTooltip extends Component {\r\n    static propTypes = {\r\n        id: PropTypes.number.isRequired,\r\n        name: PropTypes.string.isRequired,\r\n        selected: PropTypes.bool,\r\n    };\r\n\r\n    static defaultProps = {};\r\n\r\n    render() {\r\n        const { id, name, selected, ...data } = this.props;\r\n\r\n        return (\r\n            <Tooltip>\r\n                <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n                    <span>{`id: ${id}`}</span>\r\n                    <span>{`название: ${name}`}</span>\r\n                    {\r\n                        !selected && (\r\n                            <>\r\n                                {\r\n                                    Object.entries(costsDictionary).map(([name, description]) => {\r\n                                            const value = data[name];\r\n                                            if (isNilOrEmpty(value)) {\r\n                                                return null;\r\n                                            }\r\n\r\n                                            return (\r\n                                                <span key={`${id}_${name}`}>{`${description}: ${value}`}</span>\r\n                                            );\r\n                                        },\r\n                                    )\r\n\r\n                                }\r\n                            </>\r\n                        )\r\n                    }\r\n                </div>\r\n            </Tooltip>\r\n        );\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Marker } from 'react-leaflet';\r\n\r\nexport default class SiteMarker extends Component {\r\n    static propTypes = {\r\n        children: PropTypes.node,\r\n        id: PropTypes.number.isRequired,\r\n        position: PropTypes.arrayOf(PropTypes.number).isRequired,\r\n    };\r\n\r\n    handleClick = id => () => {\r\n        if (this.props.handleMarkerClick) {\r\n            this.props.handleMarkerClick(id);\r\n        }\r\n    };\r\n\r\n    render() {\r\n        const { id, position, icon, children } = this.props;\r\n\r\n        return (\r\n            <Marker\r\n                position={position}\r\n                icon={icon}\r\n                onClick={this.handleClick(id)}\r\n            >\r\n                {children}\r\n            </Marker>\r\n        );\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\n\r\nimport Papa from 'papaparse';\r\nimport { pathOr } from 'ramda';\r\nimport styles from './MainPage.module.css';\r\nimport { Map, TileLayer } from 'react-leaflet';\r\nimport { isNotNil, isNotNilAndNotEmpty } from '../../../utils/lomda';\r\nimport { getIconByCost, SELECTED_ICON } from '../../../utils/icons';\r\nimport MarkerTooltip from '../../elements/markerTooltip/MarkerTooltip';\r\nimport SiteMarker from '../../elements/siteMarker/SiteMarker';\r\n\r\n// [latitude, longitude]\r\nconst DEFAULT_POSITION = [55.772, 37.606];\r\nconst DEFAULT_ZOOM = 14;\r\n\r\nexport default class MainPage extends Component {\r\n    static propTypes = {};\r\n\r\n    static defaultProps = {};\r\n\r\n    state = {\r\n        sites: [],\r\n        costs: {},\r\n        selectedId: undefined,\r\n    };\r\n\r\n    readFile = file => {\r\n        const reader = new FileReader();\r\n        if (isNotNilAndNotEmpty(file)) {\r\n            reader.onloadend = () => {\r\n                Papa.parse(file, {\r\n                    complete: (results) => {\r\n                        console.log('Finished:', results.data);\r\n                        const clearData = results.data.filter(row => row.every(cell => isNotNilAndNotEmpty(cell)));\r\n\r\n                        if (file.name.toLowerCase() === 'sites.csv') {\r\n                            const sites = this.processSites(clearData);\r\n\r\n                            this.setState({\r\n                                sites,\r\n                            });\r\n                        } else if (file.name.toLowerCase() === 'costs.csv') {\r\n                            const costs = this.processCosts(clearData);\r\n\r\n                            this.setState({\r\n                                costs,\r\n                            });\r\n                        }\r\n                    },\r\n                });\r\n            };\r\n            reader.readAsDataURL(file);\r\n        }\r\n    };\r\n\r\n    processSites = ([names, ...data] = []) => {\r\n        const idIndex = names.indexOf('site_id');\r\n        const nameIndex = names.indexOf('site_name');\r\n        const longitudeIndex = names.indexOf('longitude');\r\n        const latitudeIndex = names.indexOf('latitude');\r\n\r\n        return data.map(row => (\r\n            {\r\n                id: Number(row[idIndex]),\r\n                name: row[nameIndex],\r\n                longitude: Number(row[longitudeIndex]),\r\n                latitude: Number(row[latitudeIndex]),\r\n            }\r\n        ));\r\n    };\r\n\r\n    processCosts = ([names, ...data] = []) => {\r\n        const idFromIndex = names.indexOf('site_id_from');\r\n        const idToIndex = names.indexOf('site_id_to');\r\n        const costIndex = names.indexOf('cost');\r\n        const waitingTimeIndex = names.indexOf('iwait');\r\n        const tripTimeInTheCabinIndex = names.indexOf('inveht');\r\n        const numberOfTransfersIndex = names.indexOf('xnum');\r\n        const transferFeeIndex = names.indexOf('xpen');\r\n\r\n        return data.reduce((result, row) => {\r\n            return {\r\n                ...result,\r\n                [row[idFromIndex]]: {\r\n                    ...result[row[idFromIndex]],\r\n                    [row[idToIndex]]: {\r\n                        // агрегированные затраты на перемещение\r\n                        cost: Number(row[costIndex]),\r\n                        // время ожидания\r\n                        waitingTime: Number(row[waitingTimeIndex]),\r\n                        // время в салоне\r\n                        tripTimeInTheCabin: Number(row[tripTimeInTheCabinIndex]),\r\n                        // число пересадок\r\n                        numberOfTransfers: Number(row[numberOfTransfersIndex]),\r\n                        // штраф за пересадки\r\n                        transferFee: Number(row[transferFeeIndex]),\r\n                    },\r\n                },\r\n            };\r\n        }, {});\r\n    };\r\n\r\n    handleChange = event => {\r\n        const [...files] = event.target.files;\r\n        const sitesFile = files.find(file => file.name === 'sites.csv');\r\n        const costsFile = files.find(file => file.name === 'costs.csv');\r\n\r\n        this.readFile(sitesFile);\r\n        this.readFile(costsFile);\r\n    };\r\n\r\n    handleMarkerClick = id => {\r\n        if (this.state.selectedId !== id) {\r\n            this.setState({\r\n                selectedId: id,\r\n            });\r\n        }\r\n    };\r\n\r\n    handleMapClick = () => {\r\n        if (isNotNil(this.state.selectedId)) {\r\n            this.setState({\r\n                selectedId: undefined,\r\n            });\r\n        }\r\n    };\r\n\r\n    render() {\r\n        const { costs, sites, selectedId } = this.state;\r\n\r\n        return (\r\n            <>\r\n                <div className={styles.controlWrapper}>\r\n                    <label\r\n                        htmlFor='files'\r\n                        style={{\r\n                            textDecoration: 'underline',\r\n                            cursor: 'pointer',\r\n                        }}\r\n                    >\r\n                        Загрузить файлы\r\n                    </label>\r\n\r\n                    <input\r\n                        id='files'\r\n                        type='file'\r\n                        onChange={this.handleChange}\r\n                        multiple\r\n                        style={{ visibility: 'hidden' }}\r\n                        accept='.csv'\r\n                    />\r\n                    {\r\n                        isNotNilAndNotEmpty(sites) && (\r\n                            <span>file sites uploaded</span>\r\n                        )\r\n                    }\r\n                    {\r\n                        isNotNilAndNotEmpty(costs) && (\r\n                            <span>file costs uploaded</span>\r\n                        )\r\n                    }\r\n                </div>\r\n                <Map\r\n                    center={DEFAULT_POSITION}\r\n                    zoom={DEFAULT_ZOOM}\r\n                    className={styles.mapContainer}\r\n                    onClick={this.handleMapClick}\r\n                >\r\n                    <TileLayer\r\n                        attribution=\"&copy; <a href=&quot;http://osm.org/copyright&quot;>OpenStreetMap</a> contributors\"\r\n                        url=\"https://{s}.tile.osm.org/{z}/{x}/{y}.png\"\r\n                    />\r\n                    {\r\n                        sites.map(({ id: siteId, name: siteName, latitude, longitude }) => {\r\n                            const costsData = pathOr({}, [selectedId, siteId], costs);\r\n                            const isSelected = (siteId === selectedId);\r\n                            const icon = isSelected ? SELECTED_ICON : getIconByCost(costsData.cost);\r\n\r\n                            return (\r\n                                <SiteMarker\r\n                                    key={siteId}\r\n                                    id={siteId}\r\n                                    position={[latitude, longitude]}\r\n                                    selected={isSelected}\r\n                                    icon={icon}\r\n                                    handleMarkerClick={this.handleMarkerClick}\r\n                                >\r\n                                    <MarkerTooltip\r\n                                        id={siteId}\r\n                                        name={siteName}\r\n                                        selected={isSelected}\r\n                                        {...costsData}\r\n                                    />\r\n                                </SiteMarker>\r\n                            );\r\n                        })\r\n                    }\r\n                </Map>\r\n            </>\r\n        );\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\n\r\nimport AppContainer from '../containers/AppContainer';\r\nimport MainPage from '../pages/mainPage/MainPage';\r\n\r\nexport default class App extends Component {\r\n    render() {\r\n        return (\r\n            <AppContainer>\r\n                <MainPage />\r\n            </AppContainer>\r\n        );\r\n    }\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/app/App';\nimport 'leaflet/dist/leaflet.css';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}